{% extends "auth/sign_in.html" %}

{% block title %}Register | {{ 'SITE_NAME' | app_config }}{% endblock %}

{% block content %}
<div id="login-form" class="">

  <h1 class="h2">{{ _("Register for a free trial.") }}</h1>

  <p class="text-muted mb-3">{{ _("Create a new organization on Qually, and get a 5-seat, 30-day free trial") }}</p>

  <form id="form-registration" action="/register" method="post" class="mt-md-3 toasted" id="login">

    <input type="hidden" name="csrf_token" value="{{ g.time | csrf_token }}"> 
    <input type="hidden" name="time" value="{{ g.time }}">

    <label for="email" class="mt-3">{{ _("Name") }}</label>
    <input class="form-control" id="name" aria-describedby="usernameHelp"type="text" name="name" required="" autofocus>

    <label for="email" class="mt-3">{{ _("Email Address") }}</label>
    <input class="form-control" id="email" aria-describedby="usernameHelp"type="text" name="email" required="">

    <label for="org_name" class="mt-3">{{ _("Organization Name") }}</label>
    <input class="form-control" id="org_name" aria-describedby="passwordHelp" type="text" name="org_name" required="">

    <label for="password" class="mt-3">{{ _("Password") }}</label>
    <input class="form-control" id="password" aria-describedby="passwordHelp" type="password" name="password" required="">

    <label for="confirm-password" class="mt-3">{{ _("Confirm Password") }}</label>
    <input class="form-control" id="confirm-password" aria-describedby="passwordHelp" type="password" name="confirm_password" required="">

    <div class="mt-3">
      <input id="accept_tos" class="form-check-input" type="checkbox" name="accept_tos"><label class="form-check-label" for="form-check-inp">I agree to the <a href="/help/terms">terms of service</a>.</label>
    </div>

    {% if 'CLOUDFLARE_TURNSTILE_KEY' | app_config %}
    <div class="mt-3">
      <div class="cf-turnstile" data-sitekey="{{ 'CLOUDFLARE_TURNSTILE_KEY' | app_config }}"></div>
      <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
    </div>
    {% endif %}

  </form>

  <button class="btn btn-primary w-100 mt-3 toast-form-submit" data-form="form-registration">{{ _("Register") }}</button>

  <div class="text-center text-muted text-small mt-5 mb-3">
    {{ _("Already have an account?") }} <a href="/sign_in">{{ _("Sign in") }}</a>
  </div>

</div>
{% endblock %}